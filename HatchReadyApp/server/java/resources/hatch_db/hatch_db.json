{"docs":[
{"_id":"1001","type":"user","username":"u1","password":"p1","firstName":"Meadow","lastName":"Rose","locale":"en_US"},
{"_id":"2001","type":"account","ownerID":"1001","accountName":"Checking","accountType":"checking","businessID":"5001"},
{"_id":"2002","type":"account","ownerID":"1001","accountName":"Savings","accountType":"savings","businessID":"5001"},
{"_id":"2003","type":"account","ownerID":"1001","accountName":"Checking","accountType":"checking","businessID":"5002"},
{"_id":"2004","type":"account","ownerID":"1001","accountName":"Savings","accountType":"savings","businessID":"5002"},
{"_id":"3001","type":"goal","ownerID":"1001","title":"New Mixer","start":-604800000,"end":6048000000,"goalAmount":650,"saved":150,"depositAmount":150,"depositFrequency":"week","feasibility":1,"notes":"","businessID":"5001","priority":1},
{"_id":"3002","type":"goal","ownerID":"1001","title":"New Oven","start":-26297400000,"end":26297400000,"goalAmount":5500,"saved":1300,"depositAmount":1300,"depositFrequency":"month","feasibility":0,"notes":"","businessID":"5001","priority":2},
{"_id":"3003","type":"goal","ownerID":"1001","title":"Update Signage","start":-604800000,"end":6048000000,"goalAmount":11450,"saved":2400,"depositAmount":2400,"depositFrequency":"week","feasibility":1,"notes":"","businessID":"5001","priority":3},
{"_id":"3004","type":"goal","ownerID":"1001","title":"Display Case","start":-26297400000,"end":26297400000,"goalAmount":5260,"saved":800,"depositAmount":800,"depositFrequency":"month","feasibility":0,"notes":"","businessID":"5001","priority":4},
{"_id":"3005","type":"goal","ownerID":"1001","title":"Cooling Racks","start":-604800000,"end":6048000000,"goalAmount":660,"saved":150,"depositAmount":150,"depositFrequency":"week","feasibility":1,"notes":"","businessID":"5001","priority":5},
{"_id":"3006","type":"goal","ownerID":"1001","title":"New Kitchen Space","start":-26297400000,"end":26297400000,"goalAmount":65000,"saved":13500,"depositAmount":13500,"depositFrequency":"month","feasibility":1,"notes":"","businessID":"5002","priority":1},
{"_id":"3007","type":"goal","ownerID":"1001","title":"Convection Oven","start":-26297400000,"end":26297400000,"goalAmount":5905,"saved":200,"depositAmount":200,"depositFrequency":"month","feasibility":0,"notes":"","businessID":"5002","priority":2},
{"_id":"3008","type":"goal","ownerID":"1001","title":"Extra Van","start":-604800000,"end":6048000000,"goalAmount":19500,"saved":4000,"depositAmount":4000,"depositFrequency":"week","feasibility":1,"notes":"","businessID":"5002","priority":3},
{"_id":"3009","type":"goal","ownerID":"1001","title":"Refrigerator","start":-26297400000,"end":26297400000,"goalAmount":2429,"saved":450,"depositAmount":450,"depositFrequency":"month","feasibility":0,"notes":"","businessID":"5002","priority":4},
{"_id":"3010","type":"goal","ownerID":"1001","title":"New Bartender","start":-26297400000,"end":26297400000,"goalAmount":40000,"saved":8500,"depositAmount":8500,"depositFrequency":"month","feasibility":0,"notes":"","businessID":"5002","priority":5},
{"_id":"4001","type":"transaction","owner":"1001","account":"2001","businessID":"5001","date":-31556926000,"transactionType":"deposit","amount":10000,"to":"Checking","from":"Cash","description":"Initial Deposit"},
{"_id":"4002","type":"transaction","owner":"1001","account":"2002","businessID":"5001","date":-31556926000,"transactionType":"deposit","amount":100000,"to":"Savings","from":"Cash","description":"Initial deposit"},
{"_id":"4003","type":"transaction","owner":"1001","account":"2003","businessID":"5002","date":-604800000,"transactionType":"deposit","amount":25000,"to":"Checking","from":"Cash","description":"Initial Deposit"},
{"_id":"4004","type":"transaction","owner":"1001","account":"2004","businessID":"5002","date":-604800000,"transactionType":"deposit","amount":100000,"to":"Savings","from":"Cash","description":"Initial deposit"},
{"_id":"4005","type":"transaction","owner":"1001","account":"2001","businessID":"5001","date":-29556926000,"transactionType":"withdrawal","amount":-1600,"to":"Electronics","from":"Checking","description":"bills"},
{"_id":"4006","type":"transaction","owner":"1001","account":"2001","businessID":"5001","date":-27556926000,"transactionType":"withdrawal","amount":-2700,"to":"Apple","from":"Checking","description":"bills"},
{"_id":"4007","type":"transaction","owner":"1001","account":"2001","businessID":"5001","date":-26556926000,"transactionType":"withdrawal","amount":-2400,"to":"Adobe","from":"Checking","description":"bills"},
{"_id":"4008","type":"transaction","owner":"1001","account":"2001","businessID":"5001","date":-25556426000,"transactionType":"deposit","amount":3600,"to":"Checking","from":"John Smith","description":"Customer Payments"},
{"_id":"4009","type":"transaction","owner":"1001","account":"2001","businessID":"5001","date":-2355692600,"transactionType":"deposit","amount":3600,"to":"Checking","from":"Adam Bowman","description":"Customer Payments"},
{"_id":"4010","type":"transaction","owner":"1001","account":"2001","businessID":"5001","date":-2155692600,"transactionType":"deposit","amount":25000,"to":"Checking","from":"P&G","description":"Customer Payments"},
{"_id":"4011","type":"transaction","owner":"1001","account":"2001","businessID":"5001","date":-604800000,"transactionType":"withdrawal","amount":-17000,"to":"Savings","from":"Checking","description":"Transfer to Savings"},
{"_id":"4012","type":"transaction","owner":"1001","account":"2002","businessID":"5001","date":-604800000,"transactionType":"deposit","amount":15000,"to":"Savings","from":"Checking","description":"Transfer to Savings"},
{"_id":"4013","type":"transaction","owner":"1001","account":"2002","businessID":"5001","date":-302400000,"transactionType":"payroll","amount":-12024.54,"to":"Employees","from":"Savings","description":"Payroll"},
{"_id":"4014","type":"transaction","owner":"1001","account":"2003","businessID":"5002","date":-29556926000,"transactionType":"withdrawal","amount":-600,"to":"Electronics","from":"Checking","description":"bills"},
{"_id":"4015","type":"transaction","owner":"1001","account":"2003","businessID":"5002","date":-27556926000,"transactionType":"withdrawal","amount":-2700,"to":"Apple","from":"Checking","description":"bills"},
{"_id":"4016","type":"transaction","owner":"1001","account":"2003","businessID":"5002","date":-26556926000,"transactionType":"withdrawal","amount":-2400,"to":"Adobe","from":"Checking","description":"bills"},
{"_id":"4017","type":"transaction","owner":"1001","account":"2003","businessID":"5002","date":-25556426000,"transactionType":"deposit","amount":3600,"to":"Checking","from":"John Smith","description":"Customer Payments"},
{"_id":"4018","type":"transaction","owner":"1001","account":"2003","businessID":"5002","date":-2355692600,"transactionType":"deposit","amount":3600,"to":"Checking","from":"Adam Bowman","description":"Customer Payments"},
{"_id":"4019","type":"transaction","owner":"1001","account":"2003","businessID":"5002","date":-2155692600,"transactionType":"deposit","amount":25000,"to":"Checking","from":"P&G","description":"Customer Payments"},
{"_id":"4020","type":"transaction","owner":"1001","account":"2003","businessID":"5002","date":-604800000,"transactionType":"withdrawal","amount":-15000,"to":"Savings","from":"Checking","description":"Transfer to Savings"},
{"_id":"4021","type":"transaction","owner":"1001","account":"2004","businessID":"5002","date":-604800000,"transactionType":"deposit","amount":15000,"to":"Savings","from":"Checking","description":"Transfer to Savings"},
{"_id":"4022","type":"transaction","owner":"1001","account":"2004","businessID":"5002","date":-302400000,"transactionType":"payroll","amount":-12024.54,"to":"Employees","from":"Savings","description":"Payroll"},
{"_id":"5001","type":"business","ownerID":"1001","businessName":"Fannie's Bakery","businessDescription":"Jamming with Jams (and pies)","imageFile":"fannies_bakery","tag":"baked goods shop"},
{"_id":"5002","type":"business","ownerID":"1001","businessName":"Fannie's Catering","businessDescription":"Food on tables for events!","imageFile":"fannies_catering","tag":"catering company"},
{"_id":"9001","name":"BUSINESS BASIC CHECKING ACCOUNT","apy":0.01,"withdrawals":100,"overdraft":0,"liquidity":3,"fee":"$5/MONTH","type":"offer","features":[{"name":"FDIC INSURED UP TO APPLICABLE LIMITS"}]},
{"_id":"9002","name":"BUSINESS SELECT CHECKING ACCOUNT","apy":0.02,"withdrawals":100,"overdraft":0,"liquidity":3,"fee":"$10/MONTH","features":[{"name":"FDIC INSURED UP TO APPLICABLE LIMITS"}],"type":"offer"},
{"_id":"9003","name":"BUSINESS ADVANTAGE CHECKING ACCOUNT","apy":0.03,"withdrawals":100,"overdraft":1,"liquidity":3,"fee":"$15/MONTH","features":[{"name":"OVERDRAFT PROTECTION"},{"name":"FDIC INSURED UP TO APPLICABLE LIMITS"}],"type":"offer"},
{"_id":"9004","name":"BUSINESS BASIC SAVINGS ACCOUNT","apy":0.02,"withdrawals":9,"overdraft":0,"liquidity":2,"fee":"$5/MONTH","features":[{"name":"FDIC INSURED UP TO APPLICABLE LIMITS"}],"type":"offer"},
{"_id":"9005","name":"BUSINESS SELECT SAVINGS ACCOUNT","apy":0.04,"withdrawals":9,"overdraft":0,"liquidity":2,"fee":"$10/MONTH","features":[{"name":"FDIC INSURED UP TO APPLICABLE LIMITS"}],"type":"offer"},
{"_id":"9006","name":"BUSINESS ADVANTAGE SAVINGS ACCOUNT","apy":0.08,"withdrawals":9,"overdraft":1,"liquidity":2,"fee":"$15/MONTH","features":[{"name":"OVERDRAFT PROTECTION"},{"name":"FDIC INSURED UP TO APPLICABLE LIMITS"}],"type":"offer"},
{"_id":"_design/hatch_main_design","views":{"users":{"map":"function(doc) {\n  if (doc.type == 'user') {\n      emit(doc.username, doc);\n  }\n}"},"goals":{"map":"function(doc) {\n  if (doc.type == 'goal') {\n      emit([doc.ownerID, doc.priority], doc);\n  }\n}","reduce":"function(keys, values, rereduce){\n  if (rereduce){\n    return sum(values);\n  } else {\n    var vals = [];\n    for (var i in values) {\n        vals[i] = values[i].saved;\n    }\n    return sum(vals);\n  }\n}"},"accounts":{"map":"function(doc) {\n  if (doc.type == 'account') {\n      emit(doc.ownerID, doc);\n  }\n}"},"transactions":{"map":"function(doc) {\n  if (doc.type == 'transaction') {\n      emit(doc.account, doc);\n  }\n}","reduce":"function(keys, values, rereduce){\n  if (rereduce){\n    return sum(values);\n  } else {\n      var amts = [];\n      for (var i in values) {\n         amts[i] = values[i].amount;\n        }\n    return sum(amts);\n  }\n}"},"homeView":{"map":"function(doc) {\n    if(doc.type == 'account' || doc.type == 'transaction'){\n        if (doc.type == 'account') {\n            emit([doc.ownerID, doc.accountName], doc.balance);\n        } else {\n            emit([doc.account, doc.transactionType], doc.amount);\n        }\n    }\n}","reduce":"function(keys, values, rereduce){\n  if (rereduce){\n    return sum(values);\n  } else {\n    return values.length;\n  }\n}"},"trnx-month":{"map":"function(doc) {\n  if (doc.type == 'transaction') {\n      var month = 604800000*4;\n      var date = Math.abs(doc.date);\n      var idx = Math.floor(date / month);\n      emit([doc.owner, doc.businessID, doc.account, idx], doc.amount);\n  }\n}","reduce":"function(keys, values, rereduce){\n  if (rereduce){\n    return sum(values);\n  } else {\n    return sum(values);\n  }\n}"},"new-view":{"reduce":"function(keys, values, rereduce){\n  if (rereduce){\n    return sum(values);\n  } else {\n    return sum(values);\n  }\n}","map":"function(doc) {\n  if (doc.type == 'transaction') {\n      var month = 604800000*4;\n      var date = Math.abs(doc.date);\n      var idx = Math.floor(date / month);\n      emit([doc.account, idx], doc.amount);\n  }\n}"},"trnx-month2":{"reduce":"function(keys, values, rereduce){\n  if (rereduce){\n    return sum(values);\n  } else {\n    return sum(values);\n  }\n}","map":"function(doc) {\n  if (doc.type == 'transaction') {\n      var month = 604800000*4;\n      var date = Math.abs(doc.date);\n      var idx = Math.floor(date / month);\n      emit([doc.account, idx], doc.amount);\n  }\n}"},"accounts2":{"reduce":"function(keys, values, rereduce){\n  if (rereduce){\n    return sum(values);\n  } else {\n    return sum(values);\n  }\n}","map":"function(doc) {\n  if (doc.type == 'account' || \n      doc.type == 'transaction') {\n    emit(doc.ownerID, doc);\n  }\n}"},"business":{"map":"function(doc) {\n    if (doc.type == 'business'){\n        emit(doc._id, doc);\n    }\n  \n}"},"dashboard":{"reduce":"function(keys, values, rereduce){\n  if (rereduce){\n    return sum(values);\n  } else {\n    return sum(values);\n  }\n}","map":"function(doc) {\n  if (doc.type == 'transaction' || doc.type == 'account' || doc.type == 'goal' || doc.type == 'business') {\n      var type = 0;\n      if (doc.type == 'transaction') {\n        emit([doc.owner, doc.businessID, doc.account], doc.amount);\n      } else if (doc.type == 'account'){\n            emit([doc.ownerID, doc.businessID, doc._id, doc.accountName], 0);\n      } else if (doc.type == 'goal'){\n            emit([doc.ownerID, doc.businessID, 'goals'], doc.goalAmount);\n      } else if (doc.type == 'business'){\n            emit([doc.ownerID, doc._id, doc.businessName, doc.businessDescription, doc.imageFile, doc.tag], 0);\n      }\n  }\n}"},"goalsxmonth":{"map":"function(doc) {\n    if (doc.type == 'goal') {\n        if (doc.depositFrequency == 'week') {\n            emit([doc.businessID, doc.ownerID, doc._id], doc.depositAmount * 4);\n        } else {\n            emit([doc.businessID, doc.ownerID, doc_.id], doc.depositAmount);\n        } \n    }\n}","reduce":"function(keys, values, rereduce){\n  if (rereduce){\n    return sum(values.length);\n  } else {\n    return sum(values.length);\n  }\n}"},"offers":{"map":"function(doc) {\n  if (doc.type == 'offer') {\n      emit(doc.ownerID, doc);\n  }\n}"},"monthly-spending":{"map":"function(doc) {\n    if (doc.type == 'transaction' && doc.transactionType == 'withdrawal') {\n         var year = 604800000*52;\n         var date = Math.abs(doc.date);\n         var idx = Math.floor(date / year);\n        emit([doc.businessID, doc.description, idx], Math.abs(doc.amount));\n    }   \n}","reduce":"function(keys, values, rereduce){\n  if (rereduce){\n    return sum(values);\n  } else {\n    return sum(values) / 12;\n  }\n}"},"goalxmonth2":{"map":"function(doc) {\n    if (doc.type == 'goal') {\n        if (doc.depositFrequency == 'week') {\n           emit([doc.businessID, doc.ownerID, doc._id], doc.depositAmount * 4); \n        } else {\n           emit([doc.businessID, doc.ownerID, doc._id], doc.depositAmount); \n        }\n         \n    }\n}","reduce":"function(keys, values, rereduce){\n  if (rereduce){\n    return sum(values);\n  } else {\n    var numGoals = values.length;\n    return sum(values);\n  }\n}"}},"language":"javascript"}
]}